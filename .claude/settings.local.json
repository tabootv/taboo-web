{
  "permissions": {
    "allow": [
      "Bash(npx create-next-app@latest:*)",
      "Bash(npm install:*)",
      "Bash(curl:*)",
      "Bash(TOKEN=\"28639|AlS9QRBUqTE79gb0587A3f0ZPfWrKlqvtwmC0waT4b7ff985\")",
      "Bash(echo \"=== /api/home/banners ===\" curl -sk \"https://beta.taboo.tv/api/home/banners\" -H \"Authorization: Bearer $TOKEN\" -H \"Accept: application/json\")",
      "Bash(python3:*)",
      "Bash(echo \"=== /api/v2/shorts ===\" curl -sk \"https://beta.taboo.tv/api/v2/shorts?per_page=1\" -H \"Authorization: Bearer $TOKEN\" -H \"Accept: application/json\")",
      "Bash(npm run build:*)",
      "Bash(cat:*)",
      "Bash(grep:*)",
      "Bash(ls:*)",
      "Bash(find:*)",
      "Bash(lsof:*)",
      "Bash(xargs kill:*)",
      "Bash(rm:*)",
      "Bash(pkill:*)",
      "Bash(npm run dev:*)",
      "Bash(php artisan:*)",
      "Bash(TOKEN=\"28650|VGKmmKmFWUgWhKedimA75DMZK7hBdLcymuRdGgRV5f8d61e7\")",
      "Bash(kill:*)",
      "Bash(env)",
      "Bash(NEXT_PUBLIC_API_URL=https://app.taboo.tv/api npm run dev:*)",
      "Bash(npx tsc:*)",
      "Bash(NEXT_PUBLIC_API_URL=https://beta.taboo.tv/api npm run dev:*)",
      "Bash(API_KEY=\"hPq6CerLNVYlScmHTeplSbnze5IzlZ1x6aHUZ2WmvmY\")",
      "Bash(ACCOUNT_ID=\"1fw6tytr\":*)",
      "Bash(npx eslint:*)",
      "Bash(npx shadcn@latest add card:*)",
      "Bash(npx shadcn@latest add calendar:*)",
      "Bash(npx shadcn@latest add popover:*)",
      "Bash(npx shadcn@latest add chart:*)",
      "Bash(npx shadcn@latest add select:*)",
      "Bash(npx shadcn@latest init:*)",
      "Bash(xargs:*)",
      "Bash(test:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nfeat: implement Next.js middleware for server-side authentication\n\nReplace client-side authentication checks with centralized server-side\nmiddleware to improve security, performance, and user experience.\n\nKey changes:\n- Add middleware.ts with route protection and creator validation\n- Remove 20+ useEffect auth checks from components and layouts\n- Validate creator status server-side via /me endpoint \\(60s cache\\)\n- Preserve redirect URLs with validated ?redirect parameter\n- Clean up studio layout - remove all client-side auth logic\n- Fix subscription hook import alias \\(subscriptionsClient\\)\n\nBenefits:\n- No auth loading flashes for users\n- Server-side validation prevents bypassing\n- Centralized auth logic in single file\n- Redirect preservation maintains user intent\n- Open redirect protection for security\n\nRoutes protected:\n- All routes by default \\(except public: /sign-in, /sign-up, /plans\\)\n- Creator routes \\(/studio/*\\) require is_creator OR channel\n- Public routes accessible without authentication\n\nFiles modified:\n- Profile pages \\(3\\): page, edit, subscription\n- Content pages \\(3\\): page, create, edit\n- Videos/Shorts pages \\(8\\): CRUD operations\n- Studio layout \\(1\\): complete auth removal\n- Other pages \\(4\\): notifications, payment, checkout\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>\nEOF\n\\)\")"
    ],
    "deny": [],
    "ask": []
  }
}
